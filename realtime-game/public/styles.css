body {
  font-family: sans-serif;
  margin: 0;
  padding-top: 60px;
}

/* Guild-based theming */
.Fire .navbar { background-color: red; }
.Water .navbar { background-color: blue; }
.Earth .navbar { background-color: green; }
.None .navbar { background-color: purple; }

/* Navbar styles */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  flex-wrap: wrap; /* allow wrapping */
  align-items: center;
  background: #333;
  color: white;
  padding: 2rem 1rem;
  z-index: 1000;
  box-sizing: border-box;
}

.navbar-logo {
  font-weight: bold;
  font-size: 1.2rem;
  flex: 1 1 auto;
}

.navbar-toggle {
  font-size: 1.5rem;
  background: none;
  border: none;
  color: white;
  display: none;
  cursor: pointer;
}

.navbar-links {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin: 0;
  padding: 0;
  flex: 1 1 auto;
  justify-content: flex-end;
}

.navbar-links li {
  white-space: nowrap;
}

.navbar-links li a {
  color: white;
  text-decoration: none;
}

/* Mobile layout */
@media (max-width: 768px) {
  .navbar-toggle {
    display: block;
  }

  .navbar-links {
    display: none;
    flex-direction: column;
    background-color: #444;
    position: absolute;
    top: 60px;
    right: 0;
    width: 200px;
    padding: 1rem;
  }

  .navbar-links.show {
    display: flex;
  }

  .navbar-logo {
    width: 100%;
    margin-bottom: 0.5rem;
  }
}

/* Main content */
main {
  padding: 1rem;
}

form {
  max-width: 300px;
  margin: 2rem auto;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

input, button {
  padding: 0.5rem;
  font-size: 1rem;
}

#messages {
  border: 1px solid #ccc;
  padding: 10px;
  height: 300px;
  overflow-y: scroll;
  margin-bottom: 1rem;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
}

th, td {
  padding: 10px;
  border: 1px solid #ccc;
  text-align: left;
}

th {
  background-color: #eee;
}

.comment-list { list-style: none; padding: 0; }
.comment { display: flex; align-items: flex-start; gap: 0.6rem; margin-bottom: 0.8rem; }
.comment-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
.comment-body { background: rgba(255,255,255,0.05); padding: 0.4rem 0.8rem; border-radius: 8px; }

.chat-message { display: flex; align-items: flex-start; gap: 0.5rem; margin-bottom: 0.4rem; }
.chat-avatar img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
.chat-text { background: rgba(255,255,255,0.1); padding: 0.4rem 0.8rem; border-radius: 8px; max-width: 80%; word-wrap: break-word; }

/* Layout */
.lb-wrap { max-width: 1100px; margin: 2rem auto; padding: 0 1rem; }
.pillars { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.25rem; align-items: end; }
@media (max-width: 800px){ .pillars{ grid-template-columns: 1fr; }}

/* Cards */
.pillar-card {
  position: relative; padding: 1rem; border-radius: 14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
  overflow: hidden;
}

/* The pillar */
.pillar { position: relative; height: 280px; display:flex; align-items:flex-end; justify-content:center; }
.pillar .base {
  position:absolute; bottom:6px; width:72%; height:14px;
  background: linear-gradient(#2f2f2f,#202020);
  border-radius: 4px;
  box-shadow: inset 0 2px 0 rgba(255,255,255,0.12);
}
.pillar .capital {
  position:absolute; bottom: calc(var(--h, 0%) + 18px);
  width:66%; height:14px;
  background: linear-gradient(#3a3a3a,#1d1d1d);
  border-radius: 4px;
  transition: transform .9s ease, bottom .9s ease;
}
.pillar .shaft {
  --target-h: 10%;
  position:absolute; bottom: 32px; width: 60%;
  height: 0%;
  background: linear-gradient(180deg, #5c5c5c 0%, #2c2c2c 100%);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px 8px 4px 4px;
  box-shadow: inset 0 10px 18px rgba(255,255,255,0.06), inset 0 -12px 18px rgba(0,0,0,0.35);
  transition: height 1.2s cubic-bezier(.2,.9,.2,1);
}
.pillar .shaft.rise { height: var(--target-h); }

/* “Crumble” = quick shake */
@keyframes shake {
  0%,100%{ transform: translateX(0); }
  20%{ transform: translateX(-2px); }
  40%{ transform: translateX(2px); }
  60%{ transform: translateX(-2px); }
  80%{ transform: translateX(2px); }
}
.pillar-card.crumble .shaft { animation: shake .6s ease; }

/* Badge & info */
.badge { position: absolute; top: 12px; right: 12px; }
.badge img { width: 64px; height: 64px; object-fit: contain; filter: drop-shadow(0 6px 10px rgba(0,0,0,0.45)); }

.stats { text-align:center; margin-top:.5rem; }
.guild-name { font-weight: 600; letter-spacing:.5px; }
.points { font-size: 1.25rem; opacity:.9; }

/* Rank medals / crown for 1st */
.rank-medal {
  position:absolute; left: 12px; top: 10px; width: 38px; height: 38px;
  border-radius: 999px; display:flex; align-items:center; justify-content:center;
  font-weight: 700; background: #444; color:#fff;
  box-shadow: inset 0 2px 0 rgba(255,255,255,.15), 0 6px 14px rgba(0,0,0,.3);
}
.pillar-card.first  .rank-medal { background: linear-gradient(#f9d65c,#caa23a); color:#1b1200; }
.pillar-card.first {border: 1px solid rgba(255, 215, 0, 0.5);}
.pillar-card.second .rank-medal { background: linear-gradient(#dfe3e8,#aeb6bf); color:#1e2329; }
.pillar-card.third  .rank-medal { background: linear-gradient(#f0c59a,#b87b43); color:#2a1908; }

/* Guild themes (tweak as you like) */
.pillar-card.Fire  .shaft { background: linear-gradient(180deg,#a33,#3a1414); }
.pillar-card.Water .shaft { background: linear-gradient(180deg,#2e4ca8,#1a2342); }
.pillar-card.Earth .shaft { background: linear-gradient(180deg,#2e7a38,#17341b); }
.pillar-card.Fire  .guild-name { color: #ff6b6b; }
.pillar-card.Water .guild-name { color: #70a1ff; }
.pillar-card.Earth .guild-name { color: #7bd388; }


/* === GOLD GLOW FOR FIRST PLACE === */
@keyframes glowPulse {
  0%, 100% {
    box-shadow: 0 0 10px 3px rgba(255, 215, 0, 0.4),
                0 0 20px 6px rgba(255, 215, 0, 0.2);
  }
  50% {
    box-shadow: 0 0 25px 10px rgba(255, 215, 0, 0.8),
                0 0 40px 15px rgba(255, 215, 0, 0.5);
  }
}

.pillar-card.first {
  animation: glowPulse 2.8s ease-in-out infinite;
  border-color: rgba(255, 215, 0, 0.4);
}


/* === THEMED NAVBAR GRADIENTS === */
.navbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(90deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  transition: background 0.6s ease;
}

/* Make links + text pop */
.navbar a {
  color: white;
  text-decoration: none;
  font-weight: 500;
  transition: opacity 0.2s;
}
.navbar a:hover { opacity: 0.8; }

/* Theme gradients per guild */
body.Fire .navbar {
  background: linear-gradient(90deg, #a33 0%, #180303 100%);
  box-shadow: 0 4px 18px rgba(255, 60, 60, 0.25);
}

body.Water .navbar {
  background: linear-gradient(90deg, #2e4ca8 0%, #081237 100%);
  box-shadow: 0 4px 18px rgba(80, 130, 255, 0.25);
}

body.Earth .navbar {
  background: linear-gradient(90deg, #2e7a38 0%, #032908 100%);
  box-shadow: 0 4px 18px rgba(60, 200, 80, 0.25);
}

/* Optional glow for hover items */
.navbar-links a:hover {
  text-shadow: 0 0 6px rgba(255,255,255,0.6);
}

/* Make burger / mobile clean */
.navbar-toggle {
  font-size: 1.8rem;
  background: none;
  color: white;
  border: none;
  cursor: pointer;
}

@media (max-width: 800px) {
  .navbar-links {
    display: none;
    flex-direction: column;
    background: rgba(0,0,0,0.7);
    position: absolute;
    top: 60px;
    right: 0;
    width: 200px;
    padding: 1rem;
    border-radius: 0 0 0 8px;
  }
  .navbar-links.show { display: flex; }
}

.navbar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.navbar-logo {
  display: flex;
  align-items: center;
  gap: .5rem;
}

/* Avatar look */
.nav-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
}


/* Default avatar guild tints */
body.Fire  .avatar--default { filter: hue-rotate(140deg) saturate(1.6) brightness(1.1); }
body.Water .avatar--default { filter: hue-rotate(10deg) saturate(1.8) brightness(1.1); }
body.Earth .avatar--default { filter: hue-rotate(240deg) saturate(1.5) brightness(1.1); }

body.Fire  .nav-avatar { box-shadow: 0 0 0 2px rgba(255, 0, 64, 0.65); }
body.Water .nav-avatar { box-shadow: 0 0 0 2px rgba(42,167,255,.65); }
body.Earth .nav-avatar { box-shadow: 0 0 0 2px rgba(0, 191, 255, 0.65); }

/* ===== Guild Chat – premium bubbles, left/right, visible names ===== */
#messages{
  border: 1px solid rgba(0,0,0,.12) !important;
  padding: 10px !important;
  height: 420px !important;              /* a bit taller */
  overflow-y: auto !important;
  background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.65));
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,.08) inset;
}
body.dark-mode #messages{
  background: linear-gradient(180deg, rgba(30,30,30,.85), rgba(26,26,26,.85));
  border-color: rgba(255,255,255,.1) !important;
  box-shadow: 0 10px 24px rgba(0,0,0,.45) inset;
}

/* one message row */
.chat-message{
  display: grid;
  grid-template-columns: 34px 1fr;
  gap: 8px;
  align-items: start;
  margin: 8px 0;
}

/* my messages on the right */
.chat-message.me{
  grid-template-columns: 1fr 34px;
}

/* avatar left/right */
.chat-avatar img{
  width:32px;height:32px;border-radius:50%;object-fit:cover;background:#f2f2f2;
}

/* bubble */
.chat-text{
  background: #fff;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 14px;
  padding: 8px 10px;
  box-shadow: 0 6px 14px rgba(0,0,0,.06);
  line-height: 1.5;
  word-wrap: break-word;
}
body.dark-mode .chat-text{
  background:#1f1f1f;
  border-color: rgba(255,255,255,.08);
  color:#f1f1f1;
}

/* my bubble color */
.chat-message.me .chat-text{
  background: #6e38ff;
  border-color: #6e38ff;
  color: #fff;
  box-shadow: 0 8px 18px rgba(110,56,255,.35);
}

/* name + time (always visible) */
.chat-meta{
  display:flex; gap:8px; align-items:center; margin-bottom: 4px;
  font-size:.85rem; opacity:.85;
}
.chat-meta .name{ font-weight: 700; opacity: 1; }
.chat-message.me .chat-meta .name{ opacity: .95; }
.chat-meta .time{ font-variant-numeric: tabular-nums; opacity:.8; }

/* arrange children for me vs others */
.chat-message.me .chat-avatar{ order: 2; }
.chat-message.me .chat-text{ order: 1; }

/* input area slight polish */
#msgInput{
  border:1px solid rgba(0,0,0,.12);
  border-radius: 12px; padding:.6rem .8rem;
}
body.dark-mode #msgInput{
  background:#202020; border-color: rgba(255,255,255,.12); color:#fff;
}
#sendBtn{
  border:1px solid #6e38ff33; background:#6e38ff; color:#fff;
  padding:.6rem .85rem; border-radius:12px; cursor:pointer;
  box-shadow: 0 6px 16px rgba(110,56,255,.35);
}
#sendBtn:hover{ filter: brightness(1.04); }


/* Natural bubble width + tidy wrapping */
.chat-message{ display:flex; gap:8px; align-items:flex-start; margin:8px 0; }
.chat-text{
  display:inline-block;
  max-width: min(75%, 680px);
  background:#fff;
  border:1px solid rgba(0,0,0,.08);
  border-radius:14px;
  padding:8px 10px;
  box-shadow:0 6px 14px rgba(0,0,0,.06);
  line-height:1.5;
  white-space:pre-wrap;      /* respect newlines */
  word-break:break-word;     /* long links/words wrap */
}
body.dark-mode .chat-text{
  background:#1f1f1f; border-color:rgba(255,255,255,.1); color:#f1f1f1;
}

.chat-message.me{ justify-content:flex-end; }
.chat-message.me .chat-text{
  background:#6e38ff; border-color:#6e38ff; color:#fff;
  box-shadow:0 8px 18px rgba(110,56,255,.35);
}



